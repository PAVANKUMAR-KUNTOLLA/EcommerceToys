{"version":3,"sources":["webpack:///./src/constants/index.js","webpack:///./src/components/LoadingSpin.js","webpack:///./src/views/Products/products.page.js"],"names":["charactersList","categoriesList","priceRangesList","useStyles","makeStyles","theme","backdrop","zIndex","drawer","LoadingSpin","_ref","isBackdrop","classes","React","createElement","Backdrop","className","open","Box","display","height","width","justifyContent","alignItems","sx","position","left","top","CircularProgress","color","size","prototype","PropTypes","bool","_acordinBlock","mainBlock","_defineProperty","flexDirection","breakpoints","up","acordinBlock","down","accordionContent","fontWeight","ProductsPage","customStyles","params","useParams","products","useSelector","state","dispatch","useDispatch","navigate","useNavigate","_useImmer2","_slicedToArray","useImmer","category","character","price","productFilters","updateProductFilters","_useState2","useState","expanded","setExpanded","isLoadingSpin","isSearchLoading","handleFetchProducts","setLoadingSpin","privateApiGET","Api","then","response","status","data","console","log","setProducts","error","handleFetchFilterProducts","payload","privateApiPOST","concat","handleAccordionChange","panel","event","isExpanded","useEffect","setSearch","Page","title","Container","maxWidth","Typography","variant","marginTop","bordertop","Accordion","onChange","AccordionSummary","expandIcon","ExpandMoreIcon","id","AccordionDetails","List","map","item","index","ListItem","key","disablePadding","ListItemButton","onClick","toLowerCase","draft","ListItemText","primary","container","length","Grid","spacing","mt","product","xs","md","ProductCard"],"mappings":"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","file":"products.page.js","sourcesContent":["export const charactersList = [\n  \"Avengers\",\n  \"Marvel\",\n  \"My Hero\",\n  \"Transformers\",\n  \"Spiderman\",\n  \"Jurassic\",\n  \"Game of Thrones\",\n  \"The Flash\",\n  \"Batman\",\n];\nexport const categoriesList = [\n  \"Accessories\",\n  \"Action-figures\",\n  \"Statue\",\n  \"Collectibles\",\n  \"T-shirt\",\n];\nexport const priceRangesList = [\n  \"0-999\",\n  \"1000-9999\",\n  \"10000-99999\",\n  \"above 100000\",\n];\nexport const profilePageList = [\n  \"Order History\",\n  \"Favourite\",\n  \"Account Details\",\n  \"Payment Methods\",\n  \"My Addresses\",\n];\n","import React from \"react\";\nimport Backdrop from \"@mui/material/Backdrop\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport { makeStyles } from \"@mui/styles\";\nimport PropTypes from \"prop-types\";\nimport { Box } from \"@mui/material\";\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    // color: \"#fff\",\n  },\n}));\n\nconst LoadingSpin = ({ isBackdrop }) => {\n  const classes = useStyles();\n  return (\n    <div>\n      <Backdrop className={classes.backdrop} open={isBackdrop}>\n        <Box\n          display=\"flex\"\n          height=\"100%\"\n          width=\"100%\"\n          justifyContent=\"center\"\n          alignItems=\"center\"\n          sx={{\n            position: \"absolute\",\n            // backgroundColor: \"background.paper\",\n            zIndex: \"10\",\n            left: 0,\n            top: 0,\n          }}\n        >\n          <CircularProgress color=\"inherit\" size={40} />\n        </Box>\n      </Backdrop>\n    </div>\n  );\n};\n\nLoadingSpin.prototype = {\n  isBackdrop: PropTypes.bool,\n};\n\nexport default LoadingSpin;\n","import React, { useState, useEffect } from \"react\";\nimport { useImmer } from \"use-immer\";\nimport Page from \"../../components/Page\";\nimport ProductCard from \"../../components/card\";\nimport { Grid, Container, Typography } from \"@mui/material\";\n\nimport { privateApiGET, privateApiPOST } from \"../../components/PrivateRoute\";\nimport Api from \"../../components/Api\";\n\nimport { makeStyles } from \"@mui/styles\";\n\nimport Accordion from \"@mui/material/Accordion\";\nimport AccordionSummary from \"@mui/material/AccordionSummary\";\nimport AccordionDetails from \"@mui/material/AccordionDetails\";\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemButton from \"@mui/material/ListItemButton\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport {\n  charactersList,\n  categoriesList,\n  priceRangesList,\n} from \"../../constants/index\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  setProducts,\n  setLoadingSpin,\n  setSearch,\n} from \"../../redux/products/produtsSlice\";\nimport LoadingSpin from \"../../components/LoadingSpin\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nexport const useStyles = makeStyles((theme) => ({\n  mainBlock: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    [theme.breakpoints.up(\"md\")]: {\n      flexDirection: \"row\",\n    },\n  },\n  acordinBlock: {\n    width: \"30%\",\n    height: \"auto\",\n    [theme.breakpoints.down(\"md\")]: {\n      width: \"50%\",\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"100%\",\n    },\n  },\n  accordionContent: {\n    \"&.MuiListItemText-primary\": {\n      fontWeight: \"700\",\n    },\n  },\n}));\n\nconst ProductsPage = () => {\n  const customStyles = useStyles();\n  const params = useParams();\n  const products = useSelector((state) => state.products.products);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const [productFilters, updateProductFilters] = useImmer({\n    category: params.category,\n    character: null,\n    price: null,\n  });\n  const [expanded, setExpanded] = useState(false);\n  const isLoadingSpin = useSelector((state) => state.products.isSearchLoading);\n\n  const handleFetchProducts = () => {\n    dispatch(setLoadingSpin(true));\n    privateApiGET(Api.products)\n      .then((response) => {\n        const { status, data } = response;\n        if (status === 200) {\n          console.log(\"data\", data);\n          dispatch(setProducts(data?.data));\n          dispatch(setLoadingSpin(false));\n        }\n      })\n      .catch((error) => {\n        console.log(\"Error\", error);\n        dispatch(setLoadingSpin(false));\n      });\n  };\n\n  const handleFetchFilterProducts = (data) => {\n    dispatch(setLoadingSpin(true));\n    let payload = data;\n    privateApiPOST(Api.products, payload)\n      .then((response) => {\n        const { status, data } = response;\n        if (status === 200) {\n          console.log(\"data\", data);\n          dispatch(setProducts(data?.data));\n          dispatch(setLoadingSpin(false));\n          if (\"category\" in payload && params.payload != payload[\"category\"]) {\n            navigate(`/app/products/categories/${payload[\"category\"]}`);\n          }\n        }\n      })\n      .catch((error) => {\n        console.log(\"Error\", error);\n        dispatch(setLoadingSpin(false));\n      });\n  };\n\n  const handleAccordionChange = (panel) => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n\n  const handleCategoryFilterClick = (category) => {\n    if (productFilters[\"category\"] === category) {\n      updateProductFilters((draft) => {\n        draft.category = null;\n      });\n      handleFetchProducts();\n      navigate(\"/app/products\");\n    } else {\n      updateProductFilters((draft) => {\n        draft.category = category;\n      });\n      let data = {\n        category: category,\n        // price: productFilters[\"price\"],\n        // character: productFilters[\"character\"],\n      };\n      handleFetchFilterProducts(data);\n    }\n  };\n  const handleCharacterFilterClick = (character) => {\n    let data = {};\n    if (productFilters[\"character\"] === character) {\n      updateProductFilters((draft) => {\n        draft.character = null;\n      });\n      handleFetchProducts();\n      navigate(\"/app/products\");\n    } else {\n      updateProductFilters((draft) => {\n        draft.character = character;\n      });\n      data = {\n        // category: productFilters[\"category\"],\n        // price: productFilters[\"price\"],\n        character: character,\n      };\n      handleFetchFilterProducts(data);\n    }\n    navigate(\"/app/products\");\n  };\n  const handlePriceFilterClick = (price) => {\n    let data = {};\n    if (productFilters[\"price\"] === price) {\n      updateProductFilters((draft) => {\n        draft.price = null;\n      });\n      handleFetchProducts();\n    } else {\n      updateProductFilters((draft) => {\n        draft.price = price;\n      });\n      data = {\n        price: price,\n        // category: productFilters[\"category\"],\n        // character: productFilters[\"character\"],\n      };\n      handleFetchFilterProducts(data);\n      navigate(\"/app/products\");\n    }\n  };\n\n  useEffect(() => {\n    dispatch(setSearch(false));\n    if (params.category) {\n      let data = { category: params.category };\n      handleFetchFilterProducts(data);\n    }\n  }, []);\n\n  return (\n    <Page title=\"products\">\n      <Container maxWidth=\"lg\">\n        <Typography variant=\"h1\" alignItems=\"left\" marginTop=\"36px\">\n          Products\n        </Typography>\n        <hr bordertop=\"2px solid black\" fontWeight=\"bold\"></hr>\n      </Container>\n      <Container maxWidth=\"lg\" className={customStyles.mainBlock}>\n        <Container className={customStyles.acordinBlock}>\n          <Accordion\n            expanded={expanded === \"panel1a\"}\n            onChange={handleAccordionChange(\"panel1a\")}\n          >\n            <AccordionSummary\n              expandIcon={<ExpandMoreIcon />}\n              aria-controls=\"panel1a-content\"\n              id=\"panel1a-header\"\n            >\n              <Typography>CHARACTER</Typography>\n            </AccordionSummary>\n            <AccordionDetails>\n              <List>\n                {charactersList.map((item, index) => (\n                  <ListItem key={index} disablePadding>\n                    <ListItemButton\n                      onClick={() =>\n                        handleCharacterFilterClick(item.toLowerCase())\n                      }\n                    >\n                      <ListItemText primary={item} />\n                    </ListItemButton>\n                  </ListItem>\n                ))}\n              </List>\n            </AccordionDetails>\n          </Accordion>\n          <Accordion\n            expanded={expanded === \"panel2a\"}\n            onChange={handleAccordionChange(\"panel2a\")}\n          >\n            <AccordionSummary\n              expandIcon={<ExpandMoreIcon />}\n              aria-controls=\"panel2a-content\"\n              id=\"panel2a-header\"\n            >\n              <Typography>CATEGORY</Typography>\n            </AccordionSummary>\n            <AccordionDetails>\n              <List>\n                {categoriesList.map((item, index) => (\n                  <ListItem key={index} disablePadding>\n                    <ListItemButton\n                      onClick={() =>\n                        handleCategoryFilterClick(item.toLowerCase())\n                      }\n                    >\n                      <ListItemText primary={item} />\n                    </ListItemButton>\n                  </ListItem>\n                ))}\n              </List>\n            </AccordionDetails>\n          </Accordion>\n          <Accordion\n            expanded={expanded === \"panel3a\"}\n            onChange={handleAccordionChange(\"panel3a\")}\n          >\n            <AccordionSummary\n              expandIcon={<ExpandMoreIcon />}\n              aria-controls=\"panel3a-content\"\n              id=\"panel3a-header\"\n            >\n              <Typography>PRICE</Typography>\n            </AccordionSummary>\n            <AccordionDetails>\n              <List>\n                {priceRangesList.map((item, index) => (\n                  <ListItem key={index} disablePadding>\n                    <ListItemButton\n                      onClick={() => handlePriceFilterClick(item)}\n                    >\n                      <ListItemText primary={item} />\n                    </ListItemButton>\n                  </ListItem>\n                ))}\n              </List>\n            </AccordionDetails>\n          </Accordion>\n        </Container>\n        <Container maxWidth=\"md\" className={customStyles.container}>\n          {((params.category &&\n            products.length > 0 &&\n            products[0].category === params.category) ||\n            (!params.category && products.length > 0)) &&\n          !isLoadingSpin ? (\n            <Grid container spacing={2} mt={2}>\n              {products.length > 0 &&\n                products.map((product, id) => {\n                  return (\n                    <Grid item key={id} xs={6} md={4}>\n                      <ProductCard key={id} product={product} />\n                    </Grid>\n                  );\n                })}\n            </Grid>\n          ) : isLoadingSpin ? (\n            <LoadingSpin isBackdrop={true} />\n          ) : null}\n        </Container>\n      </Container>\n    </Page>\n  );\n};\n\nexport default ProductsPage;\n"],"sourceRoot":""}